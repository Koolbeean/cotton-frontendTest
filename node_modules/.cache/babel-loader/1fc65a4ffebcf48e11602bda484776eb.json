{"ast":null,"code":"import _slicedToArray from\"C:/Users/yupoh/Desktop/cotton-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/yupoh/Desktop/cotton-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React from'react';import styled from'styled-components';import{Button,Flex,Heading,IconButton,AddIcon,MinusIcon,useModal}from'uikit';import useI18n from'hooks/useI18n';import useStake from'hooks/useStake';import useUnstake from'hooks/useUnstake';import{getBalanceNumber}from'utils/formatBalance';import DepositModal from'../DepositModal';import WithdrawModal from'../WithdrawModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ButtonFixed=styled(Button)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  color: black;\\n\"])));var IconButtonWrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  svg {\\n    width: 20px;\\n  }\\n\"])));var StakeAction=function StakeAction(_ref){var stakedBalance=_ref.stakedBalance,tokenBalance=_ref.tokenBalance,tokenName=_ref.tokenName,pid=_ref.pid,depositFeeBP=_ref.depositFeeBP;var TranslateString=useI18n();var _useStake=useStake(pid),onStake=_useStake.onStake;var _useUnstake=useUnstake(pid),onUnstake=_useUnstake.onUnstake;var rawStakedBalance=getBalanceNumber(stakedBalance);var displayBalance=rawStakedBalance.toLocaleString();var _useModal=useModal(/*#__PURE__*/_jsx(DepositModal,{max:tokenBalance,onConfirm:onStake,tokenName:tokenName,depositFeeBP:depositFeeBP})),_useModal2=_slicedToArray(_useModal,1),onPresentDeposit=_useModal2[0];var _useModal3=useModal(/*#__PURE__*/_jsx(WithdrawModal,{max:stakedBalance,onConfirm:onUnstake,tokenName:tokenName})),_useModal4=_slicedToArray(_useModal3,1),onPresentWithdraw=_useModal4[0];var renderStakingButtons=function renderStakingButtons(){return rawStakedBalance===0?/*#__PURE__*/_jsx(ButtonFixed,{onClick:onPresentDeposit,children:TranslateString(999,'Stake')}):/*#__PURE__*/_jsxs(IconButtonWrapper,{children:[/*#__PURE__*/_jsx(IconButton,{variant:\"tertiary\",onClick:onPresentWithdraw,mr:\"6px\",children:/*#__PURE__*/_jsx(MinusIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(IconButton,{variant:\"tertiary\",onClick:onPresentDeposit,children:/*#__PURE__*/_jsx(AddIcon,{color:\"primary\"})})]});};return/*#__PURE__*/_jsxs(Flex,{justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Heading,{color:rawStakedBalance===0?'textDisabled':'text',children:displayBalance}),renderStakingButtons()]});};export default StakeAction;","map":{"version":3,"sources":["C:/Users/yupoh/Desktop/cotton-frontend/src/views/Farms/components/FarmCard/StakeAction.tsx"],"names":["React","styled","Button","Flex","Heading","IconButton","AddIcon","MinusIcon","useModal","useI18n","useStake","useUnstake","getBalanceNumber","DepositModal","WithdrawModal","ButtonFixed","IconButtonWrapper","div","StakeAction","stakedBalance","tokenBalance","tokenName","pid","depositFeeBP","TranslateString","onStake","onUnstake","rawStakedBalance","displayBalance","toLocaleString","onPresentDeposit","onPresentWithdraw","renderStakingButtons"],"mappings":"+WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,OAASC,MAAT,CAAiBC,IAAjB,CAAuBC,OAAvB,CAAgCC,UAAhC,CAA4CC,OAA5C,CAAqDC,SAArD,CAAgEC,QAAhE,KAAgF,OAAhF,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,OAASC,gBAAT,KAAiC,qBAAjC,CACA,MAAOC,CAAAA,YAAP,KAAyB,iBAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kBAA1B,C,wFASA,GAAMC,CAAAA,WAAW,CAAGd,MAAM,CAACC,MAAD,CAAT,oFAAjB,CAIA,GAAMc,CAAAA,iBAAiB,CAAGf,MAAM,CAACgB,GAAV,uHAAvB,CAOA,GAAMC,CAAAA,WAA2C,CAAG,QAA9CA,CAAAA,WAA8C,MAAkE,IAA/DC,CAAAA,aAA+D,MAA/DA,aAA+D,CAAhDC,YAAgD,MAAhDA,YAAgD,CAAlCC,SAAkC,MAAlCA,SAAkC,CAAvBC,GAAuB,MAAvBA,GAAuB,CAAlBC,YAAkB,MAAlBA,YAAkB,CACpH,GAAMC,CAAAA,eAAe,CAAGf,OAAO,EAA/B,CACA,cAAoBC,QAAQ,CAACY,GAAD,CAA5B,CAAQG,OAAR,WAAQA,OAAR,CACA,gBAAsBd,UAAU,CAACW,GAAD,CAAhC,CAAQI,SAAR,aAAQA,SAAR,CAEA,GAAMC,CAAAA,gBAAgB,CAAGf,gBAAgB,CAACO,aAAD,CAAzC,CACA,GAAMS,CAAAA,cAAc,CAAGD,gBAAgB,CAACE,cAAjB,EAAvB,CAEA,cAA2BrB,QAAQ,cAAC,KAAC,YAAD,EAAc,GAAG,CAAEY,YAAnB,CAAiC,SAAS,CAAEK,OAA5C,CAAqD,SAAS,CAAEJ,SAAhE,CAA2E,YAAY,CAAEE,YAAzF,EAAD,CAAnC,wCAAOO,gBAAP,eACA,eAA4BtB,QAAQ,cAClC,KAAC,aAAD,EAAe,GAAG,CAAEW,aAApB,CAAmC,SAAS,CAAEO,SAA9C,CAAyD,SAAS,CAAEL,SAApE,EADkC,CAApC,yCAAOU,iBAAP,eAIA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjC,MAAOL,CAAAA,gBAAgB,GAAK,CAArB,cACL,KAAC,WAAD,EAAa,OAAO,CAAEG,gBAAtB,UAAyCN,eAAe,CAAC,GAAD,CAAM,OAAN,CAAxD,EADK,cAGL,MAAC,iBAAD,yBACE,KAAC,UAAD,EAAY,OAAO,CAAC,UAApB,CAA+B,OAAO,CAAEO,iBAAxC,CAA2D,EAAE,CAAC,KAA9D,uBACE,KAAC,SAAD,EAAW,KAAK,CAAC,SAAjB,EADF,EADF,cAIE,KAAC,UAAD,EAAY,OAAO,CAAC,UAApB,CAA+B,OAAO,CAAED,gBAAxC,uBACE,KAAC,OAAD,EAAS,KAAK,CAAC,SAAf,EADF,EAJF,GAHF,CAYD,CAbD,CAeA,mBACE,MAAC,IAAD,EAAM,cAAc,CAAC,eAArB,CAAqC,UAAU,CAAC,QAAhD,wBACE,KAAC,OAAD,EAAS,KAAK,CAAEH,gBAAgB,GAAK,CAArB,CAAyB,cAAzB,CAA0C,MAA1D,UAAmEC,cAAnE,EADF,CAEGI,oBAAoB,EAFvB,GADF,CAMD,CAlCD,CAoCA,cAAed,CAAAA,WAAf","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Button, Flex, Heading, IconButton, AddIcon, MinusIcon, useModal } from 'uikit'\r\nimport useI18n from 'hooks/useI18n'\r\nimport useStake from 'hooks/useStake'\r\nimport useUnstake from 'hooks/useUnstake'\r\nimport { getBalanceNumber } from 'utils/formatBalance'\r\nimport DepositModal from '../DepositModal'\r\nimport WithdrawModal from '../WithdrawModal'\r\n\r\ninterface FarmCardActionsProps {\r\n  stakedBalance?: BigNumber\r\n  tokenBalance?: BigNumber\r\n  tokenName?: string\r\n  pid?: number\r\n  depositFeeBP?: number\r\n}\r\nconst ButtonFixed = styled(Button)`\r\n  color: black;\r\n`\r\n\r\nconst IconButtonWrapper = styled.div`\r\n  display: flex;\r\n  svg {\r\n    width: 20px;\r\n  }\r\n`\r\n\r\nconst StakeAction: React.FC<FarmCardActionsProps> = ({ stakedBalance, tokenBalance, tokenName, pid, depositFeeBP}) => {\r\n  const TranslateString = useI18n()\r\n  const { onStake } = useStake(pid)\r\n  const { onUnstake } = useUnstake(pid)\r\n\r\n  const rawStakedBalance = getBalanceNumber(stakedBalance)\r\n  const displayBalance = rawStakedBalance.toLocaleString()\r\n\r\n  const [onPresentDeposit] = useModal(<DepositModal max={tokenBalance} onConfirm={onStake} tokenName={tokenName} depositFeeBP={depositFeeBP} />)\r\n  const [onPresentWithdraw] = useModal(\r\n    <WithdrawModal max={stakedBalance} onConfirm={onUnstake} tokenName={tokenName} />,\r\n  )\r\n\r\n  const renderStakingButtons = () => {\r\n    return rawStakedBalance === 0 ? (\r\n      <ButtonFixed onClick={onPresentDeposit}>{TranslateString(999, 'Stake')}</ButtonFixed>\r\n    ) : (\r\n      <IconButtonWrapper>\r\n        <IconButton variant=\"tertiary\" onClick={onPresentWithdraw} mr=\"6px\">\r\n          <MinusIcon color=\"primary\" />\r\n        </IconButton>\r\n        <IconButton variant=\"tertiary\" onClick={onPresentDeposit}>\r\n          <AddIcon color=\"primary\" />\r\n        </IconButton>\r\n      </IconButtonWrapper>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Flex justifyContent=\"space-between\" alignItems=\"center\">\r\n      <Heading color={rawStakedBalance === 0 ? 'textDisabled' : 'text'}>{displayBalance}</Heading>\r\n      {renderStakingButtons()}\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default StakeAction\r\n"]},"metadata":{},"sourceType":"module"}