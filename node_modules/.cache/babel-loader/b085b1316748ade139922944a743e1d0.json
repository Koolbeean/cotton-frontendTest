{"ast":null,"code":"import _slicedToArray from\"C:/Users/yupoh/Desktop/cotton-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/yupoh/Desktop/cotton-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{useState}from\"react\";import styled from\"styled-components\";import{MENU_ENTRY_HEIGHT}from\"./config\";import{MenuEntry,LinkLabel}from\"./MenuEntry\";import{ArrowDropDownIcon,ArrowDropUpIcon}from\"../../components/Svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  // Safari fix\\n  flex-shrink: 0;\\n\"])));var AccordionContent=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  max-height: \",\";\\n  transition: max-height 0.3s ease-out;\\n  overflow: hidden;\\n  border-color: \",\";\\n  border-style: solid;\\n  border-width: 1px;\\n\"])),function(_ref){var isOpen=_ref.isOpen,maxHeight=_ref.maxHeight;return isOpen?\"\".concat(maxHeight,\"px\"):0;},function(_ref2){var isOpen=_ref2.isOpen,isPushed=_ref2.isPushed;return isOpen&&isPushed?\"rgba(133, 133, 133, 0.1)\":\"transparent\";});var Accordion=function Accordion(_ref3){var label=_ref3.label,icon=_ref3.icon,isPushed=_ref3.isPushed,pushNav=_ref3.pushNav,_ref3$initialOpenStat=_ref3.initialOpenState,initialOpenState=_ref3$initialOpenStat===void 0?false:_ref3$initialOpenStat,children=_ref3.children,className=_ref3.className;var _useState=useState(initialOpenState),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var handleClick=function handleClick(){if(isPushed){setIsOpen(function(prevState){return!prevState;});}else{pushNav(true);setIsOpen(true);}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(MenuEntry,{onClick:handleClick,className:className,children:[icon,/*#__PURE__*/_jsx(LinkLabel,{isPushed:isPushed,children:label}),isOpen?/*#__PURE__*/_jsx(ArrowDropUpIcon,{}):/*#__PURE__*/_jsx(ArrowDropDownIcon,{})]}),/*#__PURE__*/_jsx(AccordionContent,{isOpen:isOpen,isPushed:isPushed,maxHeight:React.Children.count(children)*MENU_ENTRY_HEIGHT,children:children})]});};export default Accordion;","map":{"version":3,"sources":["C:/Users/yupoh/Desktop/cotton-frontend/src/uikit/widgets/Menu/Accordion.tsx"],"names":["React","useState","styled","MENU_ENTRY_HEIGHT","MenuEntry","LinkLabel","ArrowDropDownIcon","ArrowDropUpIcon","Container","div","AccordionContent","isOpen","maxHeight","isPushed","Accordion","label","icon","pushNav","initialOpenState","children","className","setIsOpen","handleClick","prevState","Children","count"],"mappings":"+WAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,iBAAT,KAAkC,UAAlC,CACA,OAASC,SAAT,CAAoBC,SAApB,KAAqC,aAArC,CAEA,OAASC,iBAAT,CAA4BC,eAA5B,KAAmD,sBAAnD,C,wFASA,GAAMC,CAAAA,SAAS,CAAGN,MAAM,CAACO,GAAV,oJAAf,CAOA,GAAMC,CAAAA,gBAAgB,CAAGR,MAAM,CAACO,GAAV,2NACN,kBAAGE,CAAAA,MAAH,MAAGA,MAAH,CAAWC,SAAX,MAAWA,SAAX,OAA4BD,CAAAA,MAAM,WAAMC,SAAN,OAAsB,CAAxD,EADM,CAIJ,mBAAGD,CAAAA,MAAH,OAAGA,MAAH,CAAWE,QAAX,OAAWA,QAAX,OAA2BF,CAAAA,MAAM,EAAIE,QAAV,CAAqB,0BAArB,CAAkD,aAA7E,EAJI,CAAtB,CASA,GAAMC,CAAAA,SAA0B,CAAG,QAA7BA,CAAAA,SAA6B,OAQ7B,IAPJC,CAAAA,KAOI,OAPJA,KAOI,CANJC,IAMI,OANJA,IAMI,CALJH,QAKI,OALJA,QAKI,CAJJI,OAII,OAJJA,OAII,6BAHJC,gBAGI,CAHJA,gBAGI,gCAHe,KAGf,uBAFJC,QAEI,OAFJA,QAEI,CADJC,SACI,OADJA,SACI,CACJ,cAA4BnB,QAAQ,CAACiB,gBAAD,CAApC,wCAAOP,MAAP,eAAeU,SAAf,eAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAIT,QAAJ,CAAc,CACZQ,SAAS,CAAC,SAACE,SAAD,QAAe,CAACA,SAAhB,EAAD,CAAT,CACD,CAFD,IAEO,CACLN,OAAO,CAAC,IAAD,CAAP,CACAI,SAAS,CAAC,IAAD,CAAT,CACD,CACF,CAPD,CASA,mBACE,MAAC,SAAD,yBACE,MAAC,SAAD,EAAW,OAAO,CAAEC,WAApB,CAAiC,SAAS,CAAEF,SAA5C,WACGJ,IADH,cAEE,KAAC,SAAD,EAAW,QAAQ,CAAEH,QAArB,UAAgCE,KAAhC,EAFF,CAGGJ,MAAM,cAAG,KAAC,eAAD,IAAH,cAAyB,KAAC,iBAAD,IAHlC,GADF,cAME,KAAC,gBAAD,EACE,MAAM,CAAEA,MADV,CAEE,QAAQ,CAAEE,QAFZ,CAGE,SAAS,CAAEb,KAAK,CAACwB,QAAN,CAAeC,KAAf,CAAqBN,QAArB,EAAiChB,iBAH9C,UAKGgB,QALH,EANF,GADF,CAgBD,CApCD,CAsCA,cAAeL,CAAAA,SAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { MENU_ENTRY_HEIGHT } from \"./config\";\r\nimport { MenuEntry, LinkLabel } from \"./MenuEntry\";\r\nimport { PushedProps } from \"./types\";\r\nimport { ArrowDropDownIcon, ArrowDropUpIcon } from \"../../components/Svg\";\r\n\r\ninterface Props extends PushedProps {\r\n  label: string;\r\n  icon: React.ReactElement;\r\n  initialOpenState?: boolean;\r\n  className?: string;\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  // Safari fix\r\n  flex-shrink: 0;\r\n`;\r\n\r\nconst AccordionContent = styled.div<{ isOpen: boolean; isPushed: boolean; maxHeight: number }>`\r\n  max-height: ${({ isOpen, maxHeight }) => (isOpen ? `${maxHeight}px` : 0)};\r\n  transition: max-height 0.3s ease-out;\r\n  overflow: hidden;\r\n  border-color: ${({ isOpen, isPushed }) => (isOpen && isPushed ? \"rgba(133, 133, 133, 0.1)\" : \"transparent\")};\r\n  border-style: solid;\r\n  border-width: 1px;\r\n`;\r\n\r\nconst Accordion: React.FC<Props> = ({\r\n  label,\r\n  icon,\r\n  isPushed,\r\n  pushNav,\r\n  initialOpenState = false,\r\n  children,\r\n  className,\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(initialOpenState);\r\n\r\n  const handleClick = () => {\r\n    if (isPushed) {\r\n      setIsOpen((prevState) => !prevState);\r\n    } else {\r\n      pushNav(true);\r\n      setIsOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <MenuEntry onClick={handleClick} className={className}>\r\n        {icon}\r\n        <LinkLabel isPushed={isPushed}>{label}</LinkLabel>\r\n        {isOpen ? <ArrowDropUpIcon /> : <ArrowDropDownIcon />}\r\n      </MenuEntry>\r\n      <AccordionContent\r\n        isOpen={isOpen}\r\n        isPushed={isPushed}\r\n        maxHeight={React.Children.count(children) * MENU_ENTRY_HEIGHT}\r\n      >\r\n        {children}\r\n      </AccordionContent>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Accordion;\r\n"]},"metadata":{},"sourceType":"module"}